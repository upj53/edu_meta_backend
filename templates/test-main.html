<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TEST</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body class="p-3">
  <div class="container">
    <header class="pb-3">
      <div class="d-flex justify-content-evenly" style="width:100px;">
        <a href="/"><i class="fa-solid fa-home"></i></a>
        <a href="/my_test"><i class="fa-solid fa-flask-vial"></i></a>
      </div>
    </header>

    <main class="row p-3">
      <div class="col-4">
        <h3>Level 1: Basics</h3>
        <ul class="list-group">
          <li class="list-group-item"><a href="/test-form1">Form</a></li>
          <li class="list-group-item"><a href="/test-fetch">Fetch</a></li>
          <li class="list-group-item"><a href="/test-cities">City List</a></li>
          <li class="list-group-item"><a href="/test-users">User List</a></li>
          <li class="list-group-item"><a href="/test-python-editor">Python Editor</a></li>
          <li class="list-group-item"><a href="/test-iframe-python-editor">iFrame Python Editor</a></li>
        </ul>
      </div>
      <div class="col-4">
        <h3>Level 2: APIRouter</h3>
        <ul class="list-group">
          <li class="list-group-item"><a href="/test_router_users">Users</a></li>
          <li class="list-group-item"><a href="/test_router_users/me">Users > me</a></li>
          <li class="list-group-item"><a href="/test_router_users/Rick">Users > Rick</a></li>
          <li class="list-group-item"><a href="/test_router_items">Items</a></li>
          <li class="list-group-item"><a href="/test_router_items/plumbus">Items > plumbus</a></li>
          <li class="list-group-item"><a href="#" id="put_test_router_items">Items > plumbus(put)</a></li>
        </ul>
      </div>
      <div class="col-4">
        <h3>Level 3: Application</h3>
        <ul class="list-group">
          <li class="list-group-item"><a href="/test-pybo-svelte" target="_blank">Pybo Svelte Frontend</a></li>
          <li class="list-group-item"><a href="/edu" target="_blank">건국대 교육대학원 석사논문</a></li>
        </ul>
      </div>
    </main>

    <footer></footer>
  </div>

  <script>
    let put_test_router_items = document.querySelector('#put_test_router_items')
    put_test_router_items.addEventListener('click', (event) => {
      event.preventDefault()
      prt_msg = prompt('업데이트 할 정보를 입력해주세요')
      if (prt_msg.trim() == '') return false
      let model = {}
      model['msg'] = prt_msg
      let modelstr = JSON.stringify(model)
      fetch('{{ domain }}/test_router_items/plumbus', {
        'method': 'PUT',
        headers: {
          'Content-Type': 'application/json'
        },
        body: modelstr
      }).then(response => response.json())
        .then(data => {
          console.log(`name = ${data.name}`)
          console.log(`msg = ${data.msg}`)
        })
        .catch(error => console.log(`에러발생. ${error}`))
        .finally(() => { })
    })
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/eaa55c88d8.js" crossorigin="anonymous"></script>
</body>

</html>